import{ah as w,w as S,u as r,j as e,q as C,m as j,ai as k,aj as P,L as m,a as $}from"./index-12920841.js";import{C as A,a as B,b as D,c as L,d as E,e as T}from"./card-35f92528.js";import{F}from"./filter-fa73163f.js";import{P as V}from"./package-b204680f.js";import{S as q}from"./star-6cf237db.js";const W=()=>{const{sellerId:a}=w(),{toast:c}=S(),[l,_]=r.useState(null),[d,y]=r.useState([]),[x,u]=r.useState(!0),[h,v]=r.useState([]),[i,N]=r.useState("");r.useEffect(()=>{a&&(async()=>{u(!0);try{const s={id:a,company_name:`Mock Seller ${a}`,website_portfolio:"https://example.com",user_id:`user_${a}`,status:"active"};_(s);const o=[{id:"prodA",seller_id:a,status:"active",title:"Product Alpha",digital_product_categories:{name:"Tools"},digital_product_images:[{image_url:"https://images.unsplash.com/photo-1526947425960-945c6e72858f",alt_text:"Alpha"}],short_description:"A great tool for various tasks.",price:19.99},{id:"prodB",seller_id:a,status:"active",title:"Product Beta",digital_product_categories:{name:"Services"},digital_product_images:[{image_url:"https://images.unsplash.com/photo-1573496774439-c9a7a1a8a2c7",alt_text:"Beta"}],short_description:"An excellent service offering.",price:99}];y(o);const g=[...new Set(o.map(n=>{var f;return(f=n.digital_product_categories)==null?void 0:f.name}).filter(Boolean))];v(g),c({title:"Supabase Disconnected",description:"Displaying sample storefront data.",variant:"info"})}catch(s){c({variant:"destructive",title:"Error loading storefront",description:s.message})}finally{u(!1)}})()},[a,c]);const p=i?d.filter(t=>{var s;return((s=t.digital_product_categories)==null?void 0:s.name)===i}):d,b={hidden:{opacity:0,y:20},visible:t=>({opacity:1,y:0,transition:{delay:t*.1,duration:.5}})};return x?e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsx(C,{className:"h-12 w-12 animate-spin text-primary"})}):l?e.jsxs("div",{className:"container mx-auto py-8 px-4",children:[e.jsxs(j.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl font-bold mb-3",children:[l.company_name,"'s Storefront"]}),l.website_portfolio&&e.jsxs("a",{href:l.website_portfolio,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline inline-flex items-center",children:["Visit Website ",e.jsx(k,{className:"ml-1 h-4 w-4"})]})]}),d.length>0&&h.length>1&&e.jsxs("div",{className:"mb-8 flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-muted-foreground"}),e.jsxs("select",{value:i,onChange:t=>N(t.target.value),className:"p-2 border rounded-md bg-background text-foreground focus:ring-primary focus:border-primary",children:[e.jsx("option",{value:"",children:"All Categories"}),h.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),p.length===0&&!x&&e.jsxs("div",{className:"text-center py-10",children:[e.jsx(P,{className:"h-24 w-24 mx-auto text-muted-foreground mb-4"}),e.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"No products found"}),e.jsx("p",{className:"text-muted-foreground",children:i?`No products in ${i}. Try another category.`:"This seller has not listed any products yet or they are pending approval."})]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:p.map((t,s)=>{var o;return e.jsx(j.div,{custom:s,variants:b,initial:"hidden",animate:"visible",children:e.jsxs(A,{className:"h-full flex flex-col overflow-hidden shadow-lg hover:shadow-primary/30 transition-all duration-300 ease-out glassmorphic-card-hover",children:[e.jsx(m,{to:`/product/${t.id}`,className:"block",children:t.digital_product_images&&t.digital_product_images.length>0?e.jsx("div",{className:"w-full h-56 overflow-hidden",children:e.jsx("img-replace",{src:t.digital_product_images[0].image_url,alt:t.digital_product_images[0].alt_text||t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}):e.jsx("div",{className:"w-full h-56 bg-muted flex items-center justify-center",children:e.jsx(V,{className:"h-16 w-16 text-muted-foreground"})})}),e.jsxs(B,{className:"pb-3",children:[e.jsx(m,{to:`/product/${t.id}`,children:e.jsx(D,{className:"text-xl leading-tight hover:text-primary transition-colors",children:t.title})}),((o=t.digital_product_categories)==null?void 0:o.name)&&e.jsx("span",{className:"text-xs py-0.5 px-1.5 rounded-full bg-secondary/20 text-secondary font-medium inline-block mt-1",children:t.digital_product_categories.name})]}),e.jsxs(L,{className:"flex-grow",children:[e.jsx(E,{className:"text-sm line-clamp-3 h-[60px]",children:t.short_description}),e.jsxs("div",{className:"mt-3 flex items-center",children:[[...Array(5)].map((g,n)=>e.jsx(q,{className:`h-4 w-4 ${n<4?"text-yellow-400 fill-yellow-400":"text-gray-300"}`},n)),e.jsx("span",{className:"ml-1 text-xs text-muted-foreground",children:"(10+ reviews)"})]})]}),e.jsxs(T,{className:"flex justify-between items-center p-4 border-t",children:[e.jsxs("p",{className:"text-xl font-bold text-primary",children:["$",t.price]}),e.jsx($,{asChild:!0,size:"sm",children:e.jsx(m,{to:`/product/${t.id}`,children:"View Product"})})]})]})},t.id)})}),e.jsx("footer",{className:"mt-16 text-center text-sm text-muted-foreground",children:"Powered by Boogasi"})]}):e.jsx("div",{className:"text-center py-10 text-xl",children:"Seller storefront not found or is not active."})};export{W as default};
